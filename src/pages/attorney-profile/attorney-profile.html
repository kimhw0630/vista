<!-- Breadcrumbs -->
<div class="bg-background-light dark:bg-background-dark py-4">
  <div class="max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8">
    <nav class="flex items-center text-sm text-[#4c669a] dark:text-gray-400">
      <a class="hover:text-primary transition-colors" routerLink="/">Home</a>
      <span class="material-symbols-outlined text-[16px] mx-2">chevron_right</span>
      <a class="hover:text-primary transition-colors cursor-pointer" (click)="goBack()">Lawyers</a>
      <span class="material-symbols-outlined text-[16px] mx-2">chevron_right</span>
      <span class="text-[#0d121b] dark:text-white font-medium">{{ attorney?.name || 'Lawyer' }}</span>
    </nav>
  </div>
</div>

<!-- Main Content Layout -->
@if (attorney) {
  <main class="flex-grow max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8 pb-16 w-full py-8">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 xl:gap-12">
    <!-- Left Sidebar (Sticky) -->
    <aside class="lg:col-span-4 xl:col-span-3">
      <div class="lg:sticky lg:top-24 space-y-8">
        <!-- Profile Card -->
        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 shadow-sm border border-[#e7ebf3] dark:border-gray-800">
          <div class="w-full aspect-[3/4] rounded-lg bg-gray-200 overflow-hidden mb-5 relative group">
            <!-- Image -->
            <div class="w-full h-full bg-cover bg-top transition-transform duration-500 group-hover:scale-105" [style.background-image]="'url(' + attorney.image + ')'"></div>
          </div>
          <!-- Contact Actions -->
          <div class="grid grid-cols-1 gap-3">
            @if (attorney.email) {
              <a [href]="'mailto:' + attorney.email" class="flex items-center justify-center gap-2 bg-primary text-white h-10 rounded-lg text-sm font-bold hover:bg-blue-700 transition-colors w-full">
                <span class="material-symbols-outlined text-[18px]">mail</span>
                Email Me
              </a>
            }
            <button class="flex items-center justify-center gap-2 bg-[#e7ebf3] dark:bg-gray-800 text-[#0d121b] dark:text-white h-10 rounded-lg text-sm font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors w-full">
              <span class="material-symbols-outlined text-[18px]">contact_page</span>
              Download vCard
            </button>
          </div>
          <!-- Quick Contact Info -->
          <div class="mt-6 pt-6 border-t border-[#e7ebf3] dark:border-gray-700 space-y-4">
            @if (attorney.phone) {
              <a class="flex items-start gap-3 group" [href]="'tel:' + attorney.phone">
                <span class="material-symbols-outlined text-primary mt-0.5">call</span>
                <div>
                  <p class="text-xs text-[#4c669a] dark:text-gray-400 font-medium uppercase tracking-wider">Phone</p>
                  <p class="text-sm font-medium group-hover:text-primary transition-colors">{{ attorney.phone }}</p>
                </div>
              </a>
            }
            <div class="flex items-start gap-3">
              <span class="material-symbols-outlined text-primary mt-0.5">location_on</span>
              <div>
                <p class="text-xs text-[#4c669a] dark:text-gray-400 font-medium uppercase tracking-wider">Office</p>
                <p class="text-sm font-medium">Markham, ON</p>
              </div>
            </div>
            @if (attorney.linkedin) {
              <a class="flex items-start gap-3 group" [href]="attorney.linkedin" target="_blank">
                <span class="material-symbols-outlined text-primary mt-0.5">link</span>
                <div>
                  <p class="text-xs text-[#4c669a] dark:text-gray-400 font-medium uppercase tracking-wider">LinkedIn</p>
                  <p class="text-sm font-medium group-hover:text-primary transition-colors">View Profile</p>
                </div>
              </a>
            }
          </div>
        </div>

        <!-- Education & Admissions -->
        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-[#e7ebf3] dark:border-gray-800">
          <div class="space-y-6">
            @if (attorney.education && attorney.education.length > 0) {
              <div>
                <h3 class="text-sm font-bold uppercase tracking-wider text-[#4c669a] dark:text-gray-400 mb-3">Education</h3>
                <ul class="space-y-3">
                  @for (edu of attorney.education; track edu.school) {
                    <li class="flex gap-3">
                      <div class="h-1.5 w-1.5 rounded-full bg-primary mt-2 shrink-0"></div>
                      <div>
                        <p class="text-sm font-bold">{{ edu.school }}</p>
                        <p class="text-sm text-[#4c669a] dark:text-gray-400">{{ edu.degree }}</p>
                      </div>
                    </li>
                  }
                </ul>
              </div>
            }
            @if (attorney.barAdmissions && attorney.barAdmissions.length > 0) {
              <div class="pt-6 border-t border-[#e7ebf3] dark:border-gray-700">
                <h3 class="text-sm font-bold uppercase tracking-wider text-[#4c669a] dark:text-gray-400 mb-3">Bar Admissions</h3>
                <ul class="space-y-2">
                  @for (bar of attorney.barAdmissions; track bar) {
                    <li class="text-sm font-medium">{{ bar }}</li>
                  }
                </ul>
              </div>
            }
            @if (attorney.practices && attorney.practices.length > 0) {
              <div [class.pt-6]="attorney.barAdmissions && attorney.barAdmissions.length > 0" [class.border-t]="attorney.barAdmissions && attorney.barAdmissions.length > 0" class="border-[#e7ebf3] dark:border-gray-700">
                <h3 class="text-sm font-bold uppercase tracking-wider text-[#4c669a] dark:text-gray-400 mb-3">Practice Areas</h3>
                <div class="flex flex-wrap gap-2">
                  @for (practice of attorney.practices; track practice.shortName) {
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary dark:bg-primary/20 dark:text-blue-300">
                      {{ practice.shortName }}
                    </span>
                  }
                </div>
              </div>
            }
          </div>
        </div>
      </div>
    </aside>

    <!-- Main Content Area -->
    <div class="lg:col-span-8 xl:col-span-9 flex flex-col">
      <!-- Header Info -->
      <div class="mb-8">
        <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-[#0d121b] dark:text-white mb-2">{{ attorney.name }}</h1>
        <p class="text-xl text-[#4c669a] dark:text-gray-400 font-medium">{{ attorney.title }} @if (attorney.description) { <span class="mx-2 text-gray-300">|</span> {{ attorney.description }} }</p>
      </div>

      <!-- Tabs Navigation -->
      <div class="mb-8 border-b border-[#e7ebf3] dark:border-gray-700">
        <div class="flex overflow-x-auto no-scrollbar gap-8">
          <a (click)="setActiveTab('biography')" [class.border-primary]="activeTab === 'biography'" [class.text-primary]="activeTab === 'biography'" [class.border-transparent]="activeTab !== 'biography'" [class.text-[#4c669a]]="activeTab !== 'biography'" class="whitespace-nowrap pb-3 border-b-2 dark:text-gray-400 hover:text-[#0d121b] dark:hover:text-white font-bold text-sm tracking-wide transition-colors cursor-pointer">
            Profile
          </a>
          <a (click)="setActiveTab('experience')" [class.border-primary]="activeTab === 'experience'" [class.text-primary]="activeTab === 'experience'" [class.border-transparent]="activeTab !== 'experience'" [class.text-[#4c669a]]="activeTab !== 'experience'" class="whitespace-nowrap pb-3 border-b-2 dark:text-gray-400 hover:text-[#0d121b] dark:hover:text-white font-bold text-sm tracking-wide transition-colors cursor-pointer">
            Professional Experience
          </a>
          <a (click)="setActiveTab('publications')" [class.border-primary]="activeTab === 'publications'" [class.text-primary]="activeTab === 'publications'" [class.border-transparent]="activeTab !== 'publications'" [class.text-[#4c669a]]="activeTab !== 'publications'" class="whitespace-nowrap pb-3 border-b-2 dark:text-gray-400 hover:text-[#0d121b] dark:hover:text-white font-bold text-sm tracking-wide transition-colors cursor-pointer">
            Notable Cases
          </a>
          <!-- <a (click)="setActiveTab('news')" [class.border-primary]="activeTab === 'news'" [class.text-primary]="activeTab === 'news'" [class.border-transparent]="activeTab !== 'news'" [class.text-[#4c669a]]="activeTab !== 'news'" class="whitespace-nowrap pb-3 border-b-2 dark:text-gray-400 hover:text-[#0d121b] dark:hover:text-white font-bold text-sm tracking-wide transition-colors cursor-pointer">
            News & Insights
          </a> -->
        </div>
      </div>

      <!-- Tab Content: Profile -->
      @if (activeTab === 'biography') {
        <section class="mb-12">
          <div class="prose prose-lg dark:prose-invert max-w-none text-[#0d121b] dark:text-gray-200">
            @if (attorney.biography && attorney.biography.length > 0) {
              @for (paragraph of attorney.biography; track $index) {
                <p [class.text-lg]="$index === 0" class="leading-relaxed mb-6">
                  {{ paragraph }}
                </p>
              }
            } @else {
              <p class="text-lg leading-relaxed mb-6">
                Biography information coming soon.
              </p>
            }
            
            @if (attorney.practices && attorney.practices.length > 0) {
              <div class="mt-8 space-y-4">
                @for (practice of attorney.practices; track practice.shortName) {
                  @if (practice.description) {
                    <div class="bg-surface-light dark:bg-surface-dark border border-[#e7ebf3] dark:border-gray-800 rounded-lg p-5">
                      <h3 class="font-bold text-lg text-[#0d121b] dark:text-white mb-2">{{ practice.shortName }}</h3>
                      <p class="text-[#4c669a] dark:text-gray-400 leading-relaxed">{{ practice.description }}</p>
                    </div>
                  }
                }
              </div>
            }
          </div>
        </section>
      }

      <!-- Section: Representative Matters -->
      @if (activeTab === 'experience') {
        <section class="mb-12">
          <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
            <span class="bg-primary/10 text-primary p-2 rounded-lg">
              <span class="material-symbols-outlined">gavel</span>
            </span>
            Professional Roles & Experience
          </h2>
          @if (attorney.experience && attorney.experience.length > 0) {
            <div class="space-y-4">
               <div class="bg-surface-light dark:bg-surface-dark border border-primary/50 dark:border-primary/50 rounded-lg p-5">
              @for (exp of attorney.experience; track $index) {
               
                  <div class="flex items-baseline gap-3 mb-4">
                    <span class="font-bold text-base text-[#0d121b] dark:text-white">{{ exp.position }}</span>
                    <span class="text-[#4c669a] dark:text-gray-400 text-sm">{{ exp.organization }}</span>
                  </div>
                
              }
              </div>
            </div>
          } @else {
            <div class="text-[#4c669a] dark:text-gray-400 text-center py-12">
              <span class="material-symbols-outlined text-6xl mb-4 opacity-20">work_history</span>
              <p>Experience information coming soon.</p>
            </div>
          }
        </section>
      }

      <!-- Section: Publications -->
      @if (activeTab === 'publications') {
        <section class="mb-12">
        <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
          <span class="bg-primary/10 text-primary p-2 rounded-lg">
            <span class="material-symbols-outlined">menu_book</span>
          </span>
          Representative Matters
        </h2>
        
        <div class="bg-surface-light dark:bg-surface-dark rounded-xl border border-[#e7ebf3] dark:border-gray-800 overflow-hidden divide-y divide-[#e7ebf3] dark:divide-gray-800">
          @if (attorney.notableCases && attorney.notableCases.length > 0) {
 <div class="p-6">
            @for (caseItem of attorney.notableCases; track $index) {
             
                <p class="text-sm text-[#4c669a] dark:text-gray-400 leading-relaxed mb-4">{{ caseItem.description }}</p>
             
            }
</div>
          } @else {
            <div class="text-[#4c669a] dark:text-gray-400 text-center py-12">
              <span class="material-symbols-outlined text-6xl mb-4 opacity-20">menu_book</span>
              <p>No notable cases available at this time.</p>
            </div>
          }
        </div>
        </section>
      }

      <!-- News & Insights Section -->
      <!-- @if (activeTab === 'news') {
        <section class="mb-12">
          <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
            <span class="bg-primary/10 text-primary p-2 rounded-lg">
              <span class="material-symbols-outlined">newspaper</span>
            </span>
            News & Insights
          </h2>
          <div class="text-[#4c669a] dark:text-gray-400 text-center py-12">
            <span class="material-symbols-outlined text-6xl mb-4 opacity-20">article</span>
            <p>No recent news or insights available.</p>
          </div>
        </section>
      } -->

      <!-- Professional Affiliations / Bottom Grid -->
      <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl border border-[#e7ebf3] dark:border-gray-800">
          <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
            <span class="material-symbols-outlined text-primary">groups</span>
            Affiliations
          </h3>
          <ul class="space-y-3">
            <li class="flex items-start gap-2 text-sm text-[#4c669a] dark:text-gray-400">
              <span class="material-symbols-outlined text-[18px] text-green-500">check_circle</span>
              <span>Law Society of Ontario (LSO)</span>
            </li>
            <li class="flex items-start gap-2 text-sm text-[#4c669a] dark:text-gray-400">
              <span class="material-symbols-outlined text-[18px] text-green-500">check_circle</span>
              <span>Canadian Bar Association (CBA)</span>
            </li>
            <li class="flex items-start gap-2 text-sm text-[#4c669a] dark:text-gray-400">
              <span class="material-symbols-outlined text-[18px] text-green-500">check_circle</span>
              <span>Ontario Bar Association (OBA)</span>
            </li>
            <li class="flex items-start gap-2 text-sm text-[#4c669a] dark:text-gray-400">
              <span class="material-symbols-outlined text-[18px] text-green-500">check_circle</span>
              <span>Toronto Lawyers Association (TLA)</span>
            </li>
          </ul>
        </div>
        <div class="bg-primary text-white p-6 rounded-xl relative overflow-hidden group cursor-pointer">
          <div class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl group-hover:bg-white/20 transition-colors"></div>
          <h3 class="font-bold text-lg mb-2 relative z-10">Work with {{ attorney.name }}</h3>
          <p class="text-blue-100 text-sm mb-4 relative z-10">Schedule a preliminary consultation to discuss your case details.</p>
          <button class="bg-white text-primary text-sm font-bold py-2 px-4 rounded-lg hover:bg-blue-50 transition-colors relative z-10">
            Book Consultation
          </button>
        </div>
      </section>
    </div>
  </div>
</main>
}
